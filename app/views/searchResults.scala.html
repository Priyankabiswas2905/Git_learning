@(query: String, files: Array[models.File], datasets: Array[models.Dataset], mapdatasetIds:scala.collection.mutable.HashMap[String,scala.collection.mutable.ListBuffer[(String, String)]])

@import scala.collection.mutable.ListBuffer

@main("Search Results") {
	<div class="page-header">
		<h1>Search Results <small>@query</small></h1>
	</div>
	@if(files.size == 0 && datasets.size == 0) {
	<div class="row">
		<div class="col-md-12">
			No results found. Sorry!
		</div>
	</div>
	}
	<div class="row">
	    <div class="col-md-6">
	   
	    <h3>Files</h3>
	    @for(file <- files) {
		  <div class="row" id="filediv_@file.id.toString">
			<div class="col-md-2">
				@if(!file.thumbnail_id.isEmpty){<img src="@(routes.Files.thumbnail(file.thumbnail_id.toString().substring(5,file.thumbnail_id.toString().length-1)))" alt="Thumbnail of @(file.filename)" width="120">}
			</div>
			<div class="col-md-10">
				<dl class="dl-horizontal">
					<dt>Filename:</dt>
					<dd><a href="@(routes.Files.file(file.id.toString))">@file.filename</a></dd>
					<dt>Type:</dt>
					<dd>@file.contentType</dd>
					<dt>Uploaded on:</dt>
					<dd>@file.uploadDate</dd>
					<dt>Dataset name(s):</dt>
					<dd>
						@for(currMapping <- mapdatasetIds.get(file.id.toString).get){
							<a href="@(routes.Datasets.dataset(currMapping._1.trim))">@currMapping._2.trim</a><br/>
						}
					</dd>
				</dl>
			</div>
		</div>
		<script>
			$("#filediv_@file.id.toString br").last().remove();
		</script>
		}
		</div>
		@if(datasets.size!=0){


			

			<div class="col-md-6">
	    
	       <h3> Datasets</h3>

	    @for(dataset <- datasets) {
		  <div class="row">
		    <div class="col-md-2">
				@if(!dataset.thumbnail_id.isEmpty){<img src="@(routes.Files.thumbnail(dataset.thumbnail_id.toString().substring(5,dataset.thumbnail_id.toString().length-1)))" alt="Thumbnail of @(dataset.name)" width="120">}
			</div>
			<div class="col-md-10">
				<dl class="dl-horizontal">
					<dt> Name:</dt>
					<dd><a href="@(routes.Datasets.dataset(dataset.id.toString))">@dataset.name</a></dd>
					<dt>  Descriptions:</dt>
					<dd> @dataset.description</dd>
				</dl>
			</div>
		</div>
		}
		</div>
	
	
	}
	</div>
}
