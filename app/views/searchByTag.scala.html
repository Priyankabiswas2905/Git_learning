@(tag: String, datasets: List[models.Dataset], files: List[models.File], sectionsWithFiles: List[(models.Section, models.File)])

@main("Tagged Datasets") {
	<div class="page-header">
		<h3>Tag: @tag</h3>
	</div>
	@if((datasets.size == 0) && (files.size == 0)){
	<div class="row">
		<div class="col-md-12">
			No results found. Sorry!
		</div>
	</div>
	}
	<table class="table table-bordered table-hover">
	<thead>
		<tr>
			<th>Title</th>
			<th>Created</th>
			<th>Description</th>
			<th></th>
		</tr>
	</thead>
	<tbody>
    @for(dataset <- datasets) {
		<tr>
			<td><a href="@(routes.Datasets.dataset(dataset.id.toString))">@dataset.name [dataset]</a></td>
			<td>@dataset.created</td>
			<td>@dataset.description</td>
			<td>
				@if(!dataset.thumbnail_id.isEmpty){<img src="@(routes.Files.thumbnail(dataset.thumbnail_id.toString().substring(5,dataset.thumbnail_id.toString().length-1)))" alt="Thumbnail of @(dataset.name)" width="120">}
				@if(dataset.thumbnail_id.isEmpty){No thumbnail available}
			</td>
		</tr>
	}
    @for(file <- files) {
		<tr>
			<td><a href="@(routes.Files.file(file.id.toString))">@file.filename [file]</a></td>
			<td>@file.uploadDate</td>
			<td></td>
			<td>
				@if(!file.thumbnail_id.isEmpty){<img src="@(routes.Files.thumbnail(file.thumbnail_id.toString().substring(5,file.thumbnail_id.toString().length-1)))" alt="Thumbnail of @(file.filename)" width="120">}
				@if(file.thumbnail_id.isEmpty){No thumbnail available}
			</td>
		</tr>
	}
    @for(sf <- sectionsWithFiles) {
		<tr>
			<td><a href="@(routes.Files.file(sf._1.file_id.toString))">@sf._2.filename [section]</a></td>
			<td>@sf._2.uploadDate</td>
			<td></td>
		</tr>
	}
	</tbody>
	</table>
}
