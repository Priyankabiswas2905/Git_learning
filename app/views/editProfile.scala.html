@(myForm: Form[Info])(implicit flash: play.api.mvc.Flash, user: Option[securesocial.core.Identity])

@import helper._
@implicitFieldConstructor = @{ FieldConstructor(twitterBootstrapInput.f) }

@main("Edit Profile") {
  <div class="page-header">
    <h1>Edit Profile</h1>
  </div>
  <div class="row">
    <div class="col-md-12">
      @if(myForm.hasErrors) {
      <div class="alert alert-error">
        <p>Please fix all errors</p>
      </div>
      }
      @flash.get("error").map { message =>
        <div class="alert alert-error">
          <p>@message</p>
        </div>
      }
      
      @form(action = routes.Profile.submitChanges, 'enctype -> "multipart/form-data", 'class -> "form-horizontal") {   
        <fieldset  id="editProfileFieldSet">
          @inputText(myForm("institution"), '_label -> "Institution")
          @inputText(myForm("position"), '_label -> "Position")
          @inputText(myForm("avatarUrl"), '_label -> "Avatar URL")
          @inputText(myForm("orcidID"), '_label -> "Orcid ID")
          @inputText(myForm("userMetadataDefUrl"), '_label -> "User Metadata Definition URL (only supports http, https, ws, and wss)")
          @textarea(myForm("biography"), '_label -> "Biography")
          @textarea(myForm("currentprojects"), '_label -> "Current Projects")
          @textarea(myForm("pastprojects"), '_label -> "Past Projects")
        </fieldset>
        <div class="form-actions" style="margin-top: 16px;">
          <input type="submit" class="btn btn-default" value="Submit Changes"/>
        </div>
      }
    </div>
  </div>
}
